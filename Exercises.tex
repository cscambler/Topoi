\documentclass{article}

\usepackage[margin=1.5in]{geometry} 
\usepackage{amsmath,amsthm,amssymb,hyperref, tikzcd, stmaryrd}


\newcommand{\Z}{\mathbf{Z}}
\newcommand{\A}{\mathbf{A}}
\newcommand{\D}{\mathbf{D}}
\newcommand{\Om}{\Omega}
\newcommand{\bO}{\mathbf{\Omega}}
\newcommand{\N}{\mathbf{N}}
\newcommand{\Q}{\mathbf{Q}}
\newcommand{\lb}{\llbracket}
\newcommand{\rb}{\rrbracket}

\theoremstyle{definition}
\newtheorem{defn}{Definition}
\newtheorem{thm}{Theorem}
\newtheorem{cor}{Corollary}
\newtheorem*{rmk}{Remark}
\newtheorem{lem}{Lemma}
\newtheorem*{joke}{Joke}
\newtheorem{ex}{Exercise}
\newtheorem*{soln}{Solution}
\newtheorem{prop}{Proposition}

\begin{document}

\large 
\linespread{1.5} 

{\Large Topoi 
\hfill  CJS}

\begin{ex}[Monic arrows in $\Omega$-set]
    An arrow $f : A \to B$ in $\Omega$-set is monic iff it satisfies
    \begin{equation}\label{hyp}
        f(a_0, b) \wedge f(a_1, b) \leq \lb a_0 = a_1\rb_A
    \end{equation}
\end{ex}
\begin{proof}
    Let $g : C \to A$ in $\Omega$-set. 
    
    We first prove that \eqref{hyp} implies
    \begin{equation}\label{eq}
        g(c, a_0) = \bigsqcup_{b \in B} g\circ f(c, b)\wedge f(a_0, b)
    \end{equation}
    for any $c, a_0$. To do this we show each of 
    \begin{equation}\label{leq}
        g(c, a_0) \leq \bigsqcup_{b \in B} g\circ f(c, b)\wedge f(a_0, b)
    \end{equation}
    and 
    \begin{equation}\label{geq}
        g(c, a_0) \geq \bigsqcup_{b \in B} g\circ f(c, b)\wedge f(a_0, b)
    \end{equation}
    For \eqref{leq}:
    \begin{equation}\label{w}
        g(c, a_0) = g(c, a_0) \wedge \lb a_0 = a_0 \rb 
    \end{equation}
    \begin{equation}\label{w}
        = \bigsqcup_{b \in B} g(c, a_0) \wedge f(a_0, b) 
    \end{equation}
    \begin{equation}\label{w}
        = \bigsqcup_{b \in B} (\bigsqcup_{a \in A} g(c, a) \wedge f(a, b)) 
        \wedge 
        f(a_0, b) \wedge g(c, a_0))
    \end{equation}
    \begin{equation}\label{w}
        = \bigsqcup_{b \in B} f \circ g(c,b) 
        \wedge 
        f(a_0, b) \wedge g(c, a_0)
    \end{equation}
    which latter is what we want.
    

    For \eqref{geq}, let $b \in B$. We have:
    \begin{equation}\label{t1}
        (\bigsqcup_{a \in A} g(c, a) \wedge f(a, b)) \wedge f(a_0, b) = \bigsqcup_{a \in A} g(c, a) \wedge f(a, b) \wedge f(a_0, b)
    \end{equation}
    \begin{equation}\label{t2}
        \leq \bigsqcup_{a \in A} g(c, a) \wedge \lb a = a_0 \rb_A
    \end{equation}
    \begin{equation}\label{t3}
        \leq g(c, a_0)
    \end{equation}
    where the transition from \eqref{t1} to \eqref{t2} uses \eqref{hyp},
    and the transition from \eqref{t2} to \eqref{t3} uses (v) p 277.
    (Is equality true?)

    From here it is easy. Suppose $g\circ f(c, b) = h\circ f(c, b)$ for all
    $c$ and $b$. Then for any $a$, $\bigsqcup_{b \in B} g\circ f(c, b) \wedge f(a, b) = \bigsqcup_{b \in B} h\circ f(c, b) \wedge f(a, b)$.
    Hence $g(c, a) = f(c, a)$ by (2).
\end{proof}
\newpage
\begin{ex}[$\Omega$ axiom in $\Omega$-set]

    Show that with $\bO(p,q) := p \Leftrightarrow q$
    and $\top(0, p) = p$ we get the $\Om$ axiom for 

    \begin{equation}\label{chi}
        \chi_f = \lb Ed \rb \wedge \lb s_f(d) = p \rb_\bO
    \end{equation} 

\end{ex}

\begin{proof}
    Let $f : \A \to \D$ be monic. Note that
    \begin{equation}\label{id1}
        \top \circ ! (a, 0) = \bigsqcup_{x \in 1}  \lb Ea \rb \wedge p = \lb Ea \rb \wedge p
    \end{equation}
    Second, since $s_f(d) = \bigsqcup_{a \in A} f(a, d)$ \eqref{chi} implies
    \begin{equation}\label{help}
        \chi_f(d, p)  = \lb Ed \rb \wedge \bigsqcup_{a \in A} f(a, d) \Leftrightarrow p
    \end{equation}
    which then implies
    \begin{equation}\label{id2}
        \chi_f \circ f(a, p)  = \bigsqcup_{d \in D} \lb Ed \rb \wedge f(a, d) \wedge \bigsqcup_{a' \in A} f(a', d) \Leftrightarrow p
    \end{equation}
    putting \eqref{id1}, \eqref{id2} together, it suffices show 
    \begin{equation}\label{target}
        \lb Ea \rb \wedge p = \bigsqcup_{d \in D} \lb Ed \rb \wedge f(a, d) \wedge \bigsqcup_{a' \in A} f(a', d) \Leftrightarrow p
    \end{equation}
    to show the square commutes.

    Using the Heyting algebra validities
    \[p \wedge q = p \wedge p \wedge q,\] 
    \[p \wedge (q \Leftrightarrow r) = p \wedge q \Leftrightarrow p \wedge r,\]
    \[p \Leftrightarrow (p \wedge q) = p \Leftrightarrow q,\] 
    \[ p \wedge (p \Leftrightarrow q) = p \wedge q,\]
    and the law of distribution one can deduce each of
    \begin{equation}\label{help1}
        \bigsqcup_{d \in D} \lb Ed \rb \wedge f(a, d) \wedge \bigsqcup_{a' \in A} f(a', d) \Leftrightarrow p = \bigsqcup_{d \in D} \lb Ed \rb \wedge f(a, d) \wedge f(a, d) \Leftrightarrow p
    \end{equation}
    and
    \begin{equation}\label{help2}
        \bigsqcup_{d \in D} \lb Ed \rb \wedge f(a, d) \wedge  f(a, d) \Leftrightarrow p = \bigsqcup_{d \in D} \lb Ed \rb \wedge f(a, d) \wedge p 
    \end{equation}
    but putting \eqref{help1} and \eqref{help2} together implies \eqref{target} by v and vii on p 277. 

    To show uniqueness, we need to show that 
    \begin{equation}\label{hyp}
        \lb Ea \rb \wedge p = \bigsqcup_{d \in D} f(a, d) \wedge g(d, p)
    \end{equation}
    implies 
    \begin{equation}\label{target1}
        g(d, p) = \lb Ed \rb \wedge \bigsqcup_{a' \in A} f(a', d) \Leftrightarrow p 
    \end{equation}
    i.e.
    \begin{equation}\label{target2}
        g(d, p) \leq \lb Ed \rb \wedge \bigsqcup_{a' \in A} f(a', d) \Leftrightarrow p 
    \end{equation}
    and 
    \begin{equation}\label{target3}
        g(d, p) \geq \lb Ed \rb \wedge \bigsqcup_{a' \in A} f(a', d) \Leftrightarrow p 
    \end{equation}
    For \eqref{target2}, 277 gives $g(d, p) \leq \lb Ed \rb$, so we must show $g(d,p) \leq \bigsqcup_{a' \in A} f(a', d) \Leftrightarrow p$.
    For this, it is enough to show
    \begin{equation}\label{target4}
        g(d,p) \wedge \bigsqcup_{a' \in A} f(a', d) \leq p 
    \end{equation}
    \begin{equation}\label{target5}
        g(d,p) \wedge p \leq \bigsqcup_{a' \in A} f(a', d).
    \end{equation}
    For \eqref{target4} we want 
    \begin{equation}\label{target6}
         \bigsqcup_{a' \in A} f(a', d) \wedge g(d, p) \leq p 
    \end{equation}
    now for a particular value of $a'$, \eqref{hyp} implies $f(a', d) \wedge g(d, p) \leq \lb Ea \rb \wedge p$.
    So by the def of least upper bound, $\bigsqcup_{a' \in A} f(a', d) \wedge g(d, p) \leq \lb Ea \rb \wedge p$. But
    then the result follows trivially.

    For \eqref{target5}, we have 
    \[
        g(d,p) \wedge p \wedge \bigsqcup_{a' \in A} f(a', d) =  g(d,p) \wedge p \wedge \bigsqcup_{a' \in A} f(a', d) \wedge g(d, p)
    \]
    thus by \eqref{target6}
    \[
        g(d,p) \wedge p \wedge \bigsqcup_{a' \in A} f(a', d) \wedge g(d, p) = g(d,p) \wedge p \wedge p = g(d,p) \wedge p
    \]
    and \eqref{target2} follows.

    For \eqref{target3}, consider
    \begin{equation}
        g(d, p) \wedge \lb Ed \rb \wedge \bigsqcup_{a' \in A} f(a', d) \Leftrightarrow p 
    \end{equation}
    this equals 
    \begin{equation}
        \lb Ed \rb \wedge \bigsqcup_{a' \in A} f(a', d) \wedge g(d, p) \Leftrightarrow g(d, p) \wedge p 
    \end{equation}
    by \eqref{target5}, this is just
    \begin{equation}
        \lb Ed \rb \wedge \bigsqcup_{a' \in A} f(a', d) \wedge g(d, p) \Leftarrow g(d, p) \wedge p 
    \end{equation}
\end{proof}

\begin{ex}[$h$ is continuous (5, p305)]

    Show that the unique arrow $h$ derived from $x$ and $f$ in $Bn(I)$ 
    is continuous in $Top(I)$.


\end{ex}
\begin{proof}
    We need to show that whenever $h[X]$ is open for some $X \subseteq I \times \omega$, 
    $X$ itself is open in that space. 
    For each $n$, let $X_n$ = $\{ x : \langle x, n \rangle \in X\}$. 
    Note $X = \bigcup_n X_n \times \{n\}$. It therefore suffices to prove that 
    $X_n \times \{n\}$ is open for each $n$, which reduces to just showing $X_n$ is open
    since $\omega$ has the discrete topology.

    In case $n = 0$, note that $h[X_0 \times {0}] = x[X_0]$, using $h(i, 0) = x(i)$.
    But if $x[X_0]$ is open, so is $X_0$, since $x$ is continuous.

    In case $n = k + 1$, $h[X_n \times \{n\}] = f \circ h[X_k \times \{k\}]$
    using $h(i, k + 1) = f(h(i, k))$. Then the result follows by the 
    IH and continuity of $f$.
\end{proof}
\end{document}